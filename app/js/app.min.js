var app=angular.module("schroederApp",[]);app.controller("schroederCtrl",["$scope","$http",function(e,t){e.page=1;e.model={temperaturas:[],medidas:0,media:{temperature:0,humidity:0},sensor:{temperature:"0",humidity:"0"},maxima:{temperature:"0",humidity:"0"},minima:{temperature:"0",humidity:"0"}};e.goPage=function(t){e.page=t};e.getData=function(e){if(!!e){var e=e.split("T");return e[1].split(":")[0]+":"+e[1].split(":")[1]+" - "+e[0].split("-")[2]+"/"+e[0].split("-")[1]+"/"+e[0].split("-")[0]}else{return"0"}};e.getDataMaxima=function(e){if(!!e){var e=e.split("T");return e[0].split("-")[2]+"/"+e[0].split("-")[1]+"/"+e[0].split("-")[0]}else{return"0"}};t.get("http://schroeder-arduino.herokuapp.com/schroeder/medicoes").success(function(t,n,r,i){e.model.temperaturas=t;e.model.sensor.temperature=t[t.length-1].temperature;e.model.sensor.humidity=t[t.length-1].humidity;e.model.minima.temperature=t[0];e.model.maxima.temperature=t[0];e.model.minima.humidity=t[0];e.model.maxima.humidity=t[0];e.model.medidas=t.length;for(var s=0;s<t.length;s++){e.model.media.temperature=e.model.media.temperature+parseInt(t[s].temperature);e.model.media.humidity=e.model.media.humidity+parseInt(t[s].humidity);if(parseInt(t[s].temperature)>parseInt(e.model.maxima.temperature.temperature)){e.model.maxima.temperature=t[s]}if(parseInt(t[s].humidity)>parseInt(e.model.maxima.humidity.humidity)){e.model.maxima.humidity=t[s]}if(parseInt(t[s].temperature)<parseInt(e.model.minima.temperature.temperature)){e.model.minima.temperature=t[s]}if(parseInt(t[s].humidity)<parseInt(e.model.minima.humidity.humidity)){e.model.minima.humidity=t[s]}}})}])
